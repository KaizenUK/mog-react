---
import Layout from "../../layouts/Layout.astro";
import { getVrmToolSettings } from "../../lib/sanity/vrmToolSettings";

const settings = await getVrmToolSettings();
---

<Layout title={settings?.title ?? "Find the right oil"}>
  <main class="mx-auto max-w-4xl px-4 py-10">
    <header class="mb-8">
      <h1 class="text-3xl font-semibold">{settings?.title ?? "Find the right oil"}</h1>
      {settings?.intro ? (
        <p class="mt-3 text-base opacity-80">{settings.intro}</p>
      ) : null}
    </header>

    <section class="rounded-2xl border p-6">
      <h2 class="text-xl font-semibold">Vehicle registration lookup</h2>
      <p class="mt-2 text-sm opacity-80">
        This is the first-stage scaffold. It captures VRM and basic context; provider integration comes next.
      </p>

      <form class="mt-5 grid gap-4 sm:grid-cols-2" method="GET" action="#">
        <div class="sm:col-span-1">
          <label class="text-sm font-medium" for="vrm">Registration (VRM)</label>
          <input
            class="mt-2 w-full rounded-xl border px-4 py-3 text-sm"
            id="vrm"
            name="vrm"
            placeholder="e.g. AB12 CDE"
            autocomplete="off"
          />
        </div>

        <div class="sm:col-span-1">
          <label class="text-sm font-medium" for="use">Intended use</label>
          <select class="mt-2 w-full rounded-xl border px-4 py-3 text-sm" id="use" name="use">
            <option value="">Selectâ€¦</option>
            <option value="passenger">Passenger car</option>
            <option value="commercial">Commercial / van</option>
            <option value="industrial">Industrial / plant</option>
          </select>
        </div>

        <div class="sm:col-span-2 flex flex-wrap gap-3 pt-2">
          <button class="rounded-full border px-6 py-2 text-sm font-medium hover:opacity-80" type="submit" disabled>
            Search (coming next)
          </button>
          <a class="rounded-full border px-6 py-2 text-sm font-medium hover:opacity-80" href="/contact-us">
            Need help? Contact us
          </a>
        </div>
      </form>
    </section>

    {settings?.disclaimer ? (
      <p class="mt-6 text-xs opacity-70">{settings.disclaimer}</p>
    ) : null}
  </main>
</Layout>
