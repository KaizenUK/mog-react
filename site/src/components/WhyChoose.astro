---
import type { WhyChooseData } from "../lib/sanity/sitePages";

type Props = { data?: WhyChooseData }
const { data } = Astro.props

const defaultItems = [
  { label: "Cost-Saving Solutions", detail: "Buy in bulk from our wholesale operation to reduce your unit costs significantly." },
  { label: "Industry Expertise",    detail: "Over 150 years' combined experience in lubricant formulation, manufacturing, and recycling." },
  { label: "5,000+ Products",       detail: "Across automotive, industrial, agricultural, and manufacturing sectors — something for every application." },
  { label: "In-House R&D",          detail: "Expert testing, analysis, and customisable formulations from our on-site laboratory team." },
  { label: "Experienced Team",      detail: "Local industry experts guide you to the right lubricant, with bespoke solutions on offer." },
  { label: "Nationwide Delivery",   detail: "We ship and bulk-supply oils across the whole of the UK, often next day." },
]

const heading     = data?.heading     ?? "Why Choose Midland Oil Group?"
const intro       = data?.intro       ?? "With a fully integrated approach to the lubricant lifecycle — from formulation and manufacturing to waste oil collection and regeneration — we offer an all-in-one solution as the UK's go-to lubricant supplier."
const calloutBody = data?.calloutBody ?? "We work closely with distributors, resellers, and manufacturers requiring own-label products. With in-house graphic design and a dedicated printing facility, we deliver bespoke, custom-branded packaging — from single-run client-specific orders to large multi-batch programmes."

const items = defaultItems.map((def, i) => ({
  label:  data?.items?.[i]?.label  ?? def.label,
  detail: data?.items?.[i]?.detail ?? def.detail,
}))
---

<section class="why">
  <div class="why__inner">
    <header class="why__header">
      <p class="why__eyebrow">Why Choose Us</p>
      <h2 class="why__heading">{heading}</h2>
      <p class="why__intro">{intro}</p>
    </header>

    <div class="why__checklist">
      {items.map((item) => (
        <div class="why__item">
          <span class="why__icon" aria-hidden="true">
            <svg viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="10" cy="10" r="9" stroke="#9a7820" stroke-width="1.2" opacity="0.4"/>
              <path d="M6 10.5L8.5 13L14 7.5" stroke="#9a7820" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </span>
          <div class="why__text">
            <strong class="why__label">{item.label}</strong>
            <span class="why__detail"> — {item.detail}</span>
          </div>
        </div>
      ))}
    </div>

    <!-- Toll blending callout -->
    <div class="why__feature">
      <div class="why__feature-tag">Own-Label &amp; Toll Blending</div>
      <p class="why__feature-body">{calloutBody}</p>
    </div>

  </div>
</section>

<style>
  .why {
    background: #f5f2ec;
    padding: var(--section-py) var(--section-px);
    border-top: 1px solid rgba(10, 22, 48, 0.08);
  }

  .why__inner {
    max-width: var(--page-max);
    margin: 0 auto;
  }

  .why__header {
    max-width: 680px;
    margin-bottom: 52px;
  }

  .why__eyebrow {
    font-family: var(--font-heading);
    font-size: 12px;
    font-weight: 400;
    letter-spacing: 0.22em;
    text-transform: uppercase;
    color: #9a7820;
    margin: 0 0 18px;
  }

  .why__heading {
    font-family: var(--font-heading);
    font-size: clamp(24px, 3vw, 38px);
    font-weight: 600;
    letter-spacing: 0.02em;
    text-transform: uppercase;
    color: #0d1a30;
    margin: 0 0 20px;
    line-height: 1.12;
  }

  .why__intro {
    font-family: var(--font-body);
    font-size: clamp(16px, 1.5vw, 18px);
    line-height: 1.75;
    color: #3a4058;
    margin: 0;
  }

  .why__checklist {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 24px 56px;
    margin-bottom: 52px;
  }

  .why__item {
    display: flex;
    align-items: flex-start;
    gap: 14px;
  }

  .why__icon {
    flex-shrink: 0;
    width: 22px;
    height: 22px;
    margin-top: 2px;
  }

  .why__icon svg {
    display: block;
    width: 100%;
    height: 100%;
  }

  .why__text {
    font-family: var(--font-body);
    font-size: 16px;
    line-height: 1.65;
    color: #3a4058;
  }

  .why__label {
    font-family: var(--font-heading);
    font-size: 15px;
    font-weight: 600;
    letter-spacing: 0.04em;
    color: #0d1a30;
  }

  /* ── Toll blending feature callout ── */
  .why__feature {
    padding: 32px 36px;
    background: rgba(10, 22, 48, 0.04);
    border: 1px solid rgba(10, 22, 48, 0.10);
    border-left: 3px solid #9a7820;
    max-width: 860px;
    margin: 0 auto;
    text-align: center;
  }

  .why__feature-tag {
    font-family: var(--font-heading);
    font-size: 12px;
    font-weight: 600;
    letter-spacing: 0.2em;
    text-transform: uppercase;
    color: #9a7820;
    margin-bottom: 14px;
  }

  .why__feature-body {
    font-family: var(--font-body);
    font-size: clamp(15px, 1.4vw, 17px);
    line-height: 1.8;
    color: #3a4058;
    margin: 0;
  }

  @media (max-width: 700px) {
    .why__checklist {
      grid-template-columns: 1fr;
      gap: 20px;
    }

    .why__feature {
      padding: 24px 20px;
    }
  }
</style>
